function Class(){}Class.prototype.construct=function(){};Class.extend=function(def){var classDef=function(){arguments[0]!==Class&&this.construct.apply(this,arguments)},proto=new this(Class),superClass=this.prototype,n,item;for(n in def)item=def[n],item instanceof Function&&(item.Base=superClass),proto[n]=item;return classDef.prototype=proto,classDef.extend=this.extend,classDef};var MapMainView=Class.extend({Lat:null,Lng:null,Zoom:null,InitializeControls:function(){},SubscribeEvents:function(){},InitMap:function(){let map=new google.maps.Map(document.getElementById("map"),{center:{lat:parseFloat(this.Lat),lng:parseFloat(this.Lng)},zoom:6}),marker=new google.maps.Marker({position:{lat:48.6683328,lng:25.482708},map:map,title:"My Home"})}}),MarkAddView=Class.extend({Map:null,InitWindow:null,LastLat:null,LastLng:null,Lat:null,Lng:null,Zoom:null,InitializeControls:function(){this.InfoWindow=new google.maps.InfoWindow({content:"�����, ��� �������� ����������",position:{lat:50.5077456,lng:31.018623}});var self=this;self.SubscribeEvents()},SubscribeEvents:function(){var self=this;$("#setCoordinates").click(function(){$("#Lng").val(self.LastLng);$("#Lat").val(self.LastLat)});$("#addImage").on("click",function(){self.AddImage()});$("#saveMark").on("click",function(){self.Save()});$("#removeImages").on("click",function(){self.RemoveImages()});self.Map.addListener("click",mapsMouseEvent=>{self.InfoWindow.close();self.InfoWindow=new google.maps.InfoWindow({position:mapsMouseEvent.latLng});var latLng=mapsMouseEvent.latLng.toJSON();self.LastLat=latLng.lat.toFixed(9).toString();self.LastLng=latLng.lng.toFixed(9).toString();self.InfoWindow.setContent("&#8645;: "+self.LastLat+",   &#8644;: "+self.LastLng);self.InfoWindow.open(self.Map)})},InitMap:function(){var self=this;this.Map=new google.maps.Map(document.getElementById("mapMarkAdd"),{center:{lat:parseFloat(self.Lat),lng:parseFloat(self.Lng)},zoom:parseFloat(self.Zoom)})},AddImage:function(){var self=this;$.ajax({type:"POST",url:"/Mark/AddImage",contentType:"application/json; charset=utf-8",success:function(src){$("#addImagePlaceholder").html(src)}})},RemoveImages:function(){$("#imageContainer .row").empty()},Save:function(){var saveMarkViewModel={Lng:$("#Lng").val(),Lat:$("#Lat").val(),AreaId:$("#AreaId").val(),Name:$("#Name").val(),Description:$("#Description").val(),DescriptionEng:$("#DescriptionEnd").val(),ResourceUrl:$("#ResourceUrl").val(),ImageMarkSaveViewModels:[]};$("#imageContainer img").each(function(index,element){saveMarkViewModel.ImageMarkSaveViewModels.push(element.src)});$.ajax({type:"POST",url:"/Mark/SaveMark",data:JSON.stringify(saveMarkViewModel),contentType:"application/json; charset=utf-8",success:function(){alert("fads")}})}}),AddImageView=Class.extend({Image:null,ImageInput:null,Reader:null,RowAddConstString:'<div class="row justify-content-md-around">',ColAddConstString:'<div class="col-md-3">',DivAddConstString:"<\/div>",InitializeControls:function(){var self=this;self.ImageInput=$("#imageInput");self.Reader=new FileReader;self.SubscribeEvents()},SubscribeEvents:function(){var self=this;self.Reader.addEventListener("load",()=>{$("#imagePlaceholder")[0].src=self.Reader.result},!1);self.ImageInput.on("change",function(){self.Reader.readAsDataURL(self.ImageInput[0].files[0])});$("#addImageCancelButton").on("click",function(){self.Close()});$("#addImageConfirmButton").on("click",function(){self.Save()})},Close:function(){$("#addImagePlaceholder").empty()},Save:function(){var self=this,rowCount=$("#imageContainer .row").length,colCount=$("#imageContainer .col-md-3").length,imageToMove;$(".popup-content-custom .row #imagePlaceholder").removeAttr("id");imageToMove=$(".popup-content-custom .add-image-placeholder-custom").html();rowCount===0||colCount!==0&&Math.floor(colCount/rowCount)===3?$("#imageContainer").append(self.RowAddConstString+self.ColAddConstString+imageToMove+self.DivAddConstString+self.DivAddConstString):$("#imageContainer .row").last().append(self.ColAddConstString+imageToMove+self.DivAddConstString);$("#addImagePlaceholder").empty()}});